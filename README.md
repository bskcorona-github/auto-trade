# 自動売買システム（Auto-Trade）

テクニカル分析を用いた暗号資産自動売買バックテストシステムです。ATR、ADX、SMA などの指標を組み合わせて、効率的な取引戦略を検証できます。

## 主な特徴

1. **高度なテクニカル分析**

   - ATR をベースとした動的ポジションサイジング
   - ADX を用いたトレンド強度の判定
   - 複数の SMA/EMA によるトレンド方向の判断
   - インジケーターの組み合わせによる複合シグナル生成

2. **豊富なバックテスト機能**

   - 実際の取引所 API（Binance）からの歴史的データ取得
   - 詳細なパフォーマンス指標（シャープレシオ、最大ドローダウン等）
   - 取引結果の視覚化

3. **柔軟な設定**

   - YAML ベースの設定ファイルによるパラメータ管理
   - カスタマイズ可能なリスク管理パラメータ
   - 複数の時間枠と通貨ペア対応

4. **インタラクティブな可視化機能**

   - Plotly ベースのインタラクティブチャート
   - 取引履歴、資産推移、ドローダウンの視覚化
   - 月次パフォーマンスヒートマップ
   - 勝率分析と損益分布グラフ

5. **使いやすい機能**
   - 日本語対応のログとエラーメッセージ
   - グラフ表示の日本語フォント対応
   - 直感的なコマンドラインインターフェース

## セットアップ方法

```
# リポジトリをクローン
git clone https://github.com/yourusername/auto-trade.git
cd auto-trade

# 依存パッケージのインストール
pip install -r requirements.txt


# 実際のBinanceデータでのバックテスト実行例
python run_backtest_with_visualization.py --symbol ETH/USDT --timeframe 4h --years 2
```

## 可視化機能の使い方

バックテスト結果は自動的に HTML レポートに出力され、ブラウザで表示されます。

1. **資産推移グラフ**：

   - 時系列での資産額の変化を表示
   - 日次リターンとドローダウンの可視化
   - 買いエントリー/売りエントリーポイントの表示

2. **取引分析**：

   - 取引タイプ別の円グラフ
   - 勝敗割合の可視化
   - 損益分布のヒストグラム
   - 保有期間別損益の散布図

3. **月次パフォーマンス**：

   - 月別・年別のパフォーマンスヒートマップ
   - 赤（損失）から緑（利益）のグラデーションで表示

4. **メトリクステーブル**：
   - 総リターン、最大ドローダウン、シャープレシオなどの主要指標
   - プロフィットファクター、勝率などの詳細な取引統計

HTML レポートは `html_reports` ディレクトリに保存され、各レポートはタイムスタンプ付きで管理されます。

## システム構成

```
auto-trade/
├── config.yml                         # 設定ファイル
├── requirements.txt                   # 依存パッケージリスト
├── README.md                          # 本ファイル
├── run_backtest_with_visualization.py # バックテスト実行・可視化一括スクリプト
├── logs/                              # ログファイル格納ディレクトリ
├── results/                           # バックテスト結果格納ディレクトリ
├── html_reports/                      # HTMLレポート格納ディレクトリ
└── src/                               # ソースコード
    ├── data/                          # データ取得モジュール
    ├── visualization/                 # 可視化モジュール
    │   └── backtest_visualizer.py     # バックテスト結果可視化ツール
    ├── simple_backtest.py             # バックテスト実行スクリプト
    ├── setup.py                       # セットアップスクリプト
    └── USAGE.md                       # 使用方法ドキュメント
```

## 必要環境

- Python 3.8 以上
- pip（パッケージ管理）
- 必要パッケージ:
  - numpy, pandas（データ処理）
  - matplotlib（基本グラフ作成）
  - plotly（インタラクティブ可視化）
  - ccxt（取引所 API 接続）
  - pyyaml（設定ファイル処理）

## 免責事項

このシステムは投資助言ではありません。実際の取引で発生した損失に対して責任を負いません。バックテスト結果と実際の取引結果は大きく異なる場合があります。少額から始め、リスク管理を徹底してください。
